<?xml version="1.0"?>
<!DOCTYPE module PUBLIC "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN" "https://checkstyle.org/dtds/configuration_1_3.dtd">
<module name="Checker">

    <!-- See https://checkstyle.sourceforge.io/checks.html for documentation of the modules -->

    <property name="severity" value="warning" />
    <property name="fileExtensions" value="java, properties, xml" />

    <module name="SuppressionFilter">
        <property name="file" value="checkstyle/checkstyle-suppressions.xml" />
    </module>

    <!-- Miscellaneous -->

    <module name="UniqueProperties" />

    <!-- Size Violations -->

    <module name="FileLength">
        <property name="max" value="2000" />
    </module>
    <module name="LineLength">
        <property name="fileExtensions" value="java" />
        <property name="max" value="200" />
    </module>

    <!-- Whitespace -->

    <module name="FileTabCharacter" />

    <module name="TreeWalker">

        <module name="SuppressionCommentFilter">
            <property name="offCommentFormat" value="CHECKSTYLE:OFF" />
            <property name="onCommentFormat" value="CHECKSTYLE:ON" />
        </module>

        <!-- Use this for types that need special naming by convention. -->
        <module name="SuppressionCommentFilter">
            <property name="offCommentFormat" value="CheckStyle\:TypeNameCheck\:off" />
            <property name="onCommentFormat" value="CheckStyle\:TypeNameCheck\:on" />
            <property name="checkFormat" value="TypeNameCheck" />
        </module>

        <!-- Use this for types that need special naming by convention. -->
        <module name="SuppressionCommentFilter">
            <property name="offCommentFormat" value="CheckStyle\:MemberNameCheck\:off" />
            <property name="onCommentFormat" value="CheckStyle\:MemberNameCheck\:on" />
            <property name="checkFormat" value="MemberNameCheck" />
        </module>

        <!-- Use this for methods that need special naming by convention. -->
        <module name="SuppressionCommentFilter">
            <property name="offCommentFormat" value="CheckStyle\:MethodNameCheck\:off" />
            <property name="onCommentFormat" value="CheckStyle\:MethodNameCheck\:on" />
            <property name="checkFormat" value="MethodNameCheck" />
        </module>

        <!-- Annotations -->

        <module name="AnnotationLocation">
            <property name="allowSamelineMultipleAnnotations" value="false" />
            <property name="allowSamelineSingleParameterlessAnnotation" value="false" />
            <property name="allowSamelineParameterizedAnnotation" value="false" />
        </module>
        <module name="AnnotationUseStyle">
            <property name="elementStyle" value="compact_no_array" />
            <property name="closingParens" value="never" />
            <property name="trailingArrayComma" value="never" />
        </module>
        <module name="MissingDeprecated">
            <property name="violateExecutionOnNonTightHtml" value="true" />
        </module>
        <module name="MissingOverride" />
        <module name="SuppressWarnings" />

        <!-- Block Checks -->

        <module name="AvoidNestedBlocks">
            <property name="allowInSwitchCase" value="true" />
        </module>
        <module name="EmptyBlock" />
        <module name="EmptyCatchBlock" />
        <module name="LeftCurly">
            <property name="option" value="eol" />
            <property name="ignoreEnums" value="false" />
        </module>
        <module name="RightCurly">
            <property name="option" value="same" />
        </module>

        <!-- Class Design -->

        <module name="FinalClass" />
        <module name="HideUtilityClassConstructor" />
        <module name="InterfaceIsType" />
        <module name="MutableException" />
        <module name="OneTopLevelClass" />
        <module name="ThrowsCount">
            <property name="max" value="5" />
        </module>
        <module name="VisibilityModifier">
            <property name="protectedAllowed" value="true" />
            <property name="packageAllowed" value="true" />
            <property name="ignoreAnnotationCanonicalNames" value="jakarta.xml.bind.annotation.XmlAttribute, jakarta.xml.bind.annotation.XmlElement, jakarta.xml.bind.annotation.XmlValue" />
        </module>

        <!-- Coding -->

        <module name="AvoidDoubleBraceInitialization" />
        <module name="AvoidNoArgumentSuperConstructorCall" />
        <module name="CovariantEquals" />
        <module name="DefaultComesLast" />
        <module name="EmptyStatement" />
        <module name="EqualsAvoidNull">
            <property name="ignoreEqualsIgnoreCase" value="true" />
        </module>
        <module name="EqualsHashCode" />
        <module name="ExplicitInitialization" />
        <module name="FallThrough" />
        <module name="FinalLocalVariable">
            <property name="validateEnhancedForLoopVariable" value="true" />
            <property name="tokens" value="VARIABLE_DEF,PARAMETER_DEF" />
        </module>
        <module name="HiddenField">
            <property name="ignoreConstructorParameter" value="true" />
            <property name="ignoreSetter" value="true" />
        </module>
        <module name="IllegalInstantiation">
            <property name="classes" value="java.lang.Boolean, java.lang.Byte, java.lang.Short, java.lang.Integer, java.lang.Long, java.lang.Float, java.lang.Double" />
        </module>
        <module name="IllegalThrows">
            <property name="illegalClassNames" value="Error, java.lang.Error" />
        </module>
        <module name="IllegalToken" />
        <module name="IllegalTokenText">
            <property name="tokens" value="NUM_INT,NUM_LONG" />
            <property name="format" value="^0[^lx]" />
            <property name="ignoreCase" value="true" />
        </module>
        <module name="IllegalType" />
        <module name="MissingSwitchDefault" />
        <module name="ModifiedControlVariable" />
        <module name="MultipleVariableDeclarations" />
        <module name="NestedForDepth">
            <property name="max" value="6" />
        </module>
        <module name="NestedIfDepth">
            <property name="max" value="5" />
        </module>
        <module name="NestedTryDepth">
            <property name="max" value="2" />
        </module>
        <module name="NoArrayTrailingComma" />
        <module name="NoClone" />
        <module name="NoEnumTrailingComma" />
        <module name="NoFinalizer" />
        <module name="OneStatementPerLine" />
        <module name="PackageDeclaration" />
        <module name="ParameterAssignment" />
        <module name="RequireThis">
            <property name="checkFields" value="true" />
            <property name="checkMethods" value="false" />
            <property name="validateOnlyOverlapping" value="false" />
        </module>
        <module name="SimplifyBooleanExpression" />
        <module name="SimplifyBooleanReturn" />
        <module name="StringLiteralEquality" />
        <module name="SuperClone" />
        <module name="SuperFinalize" />
        <module name="UnnecessaryParentheses" />
        <module name="UnnecessarySemicolonAfterOuterTypeDeclaration" />
        <module name="UnnecessarySemicolonAfterTypeMemberDeclaration" />
        <module name="UnnecessarySemicolonInEnumeration" />
        <module name="UnnecessarySemicolonInTryWithResources" />
        <module name="VariableDeclarationUsageDistance" />

        <!-- Imports -->

        <module name="AvoidStarImport" />
        <module name="IllegalImport" />
        <module name="RedundantImport" />

        <!-- JavaDoc Comments -->

        <module name="AtclauseOrder" />
        <module name="InvalidJavadocPosition" />
        <module name="JavadocBlockTagLocation" />
        <module name="JavadocContentLocationCheck">
            <property name="location" value="second_line" />
        </module>
        <module name="JavadocMethod">
            <property name="allowedAnnotations" value="Override" />
            <property name="validateThrows" value="true" />
            <property name="accessModifiers" value="public, protected" />
            <property name="allowMissingParamTags" value="false" />
        </module>
        <module name="JavadocMissingLeadingAsterisk" />
        <module name="JavadocMissingWhitespaceAfterAsterisk" />
        <module name="JavadocParagraph">
            <property name="violateExecutionOnNonTightHtml" value="true" />
            <property name="allowNewlineParagraph" value="false" />
        </module>
        <module name="JavadocStyle">
            <property name="scope" value="private" />
        </module>
        <module name="JavadocType">
            <property name="scope" value="protected" />
        </module>
        <module name="JavadocVariable">
            <property name="scope" value="protected" />
        </module>
        <module name="MissingJavadocMethod">
            <property name="scope" value="protected" />
            <property name="allowedAnnotations" value="Override" />
        </module>
        <module name="MissingJavadocPackage" />
        <module name="MissingJavadocType">
            <property name="scope" value="protected" />
        </module>
        <module name="NonEmptyAtclauseDescription" />
        <!-- <module name="RequireEmptyLineBeforeBlockTagGroup" /> -->
        <module name="SummaryJavadocCheck" />

        <!-- Metrics -->
        <!-- Currently we are violating almost all of these metrics... -->

        <!--
        <module name="BooleanExpressionComplexity">
            <property name="max" value="3" />
        </module>
        <module name="ClassDataAbstractionCoupling">
            <property name="max" value="7" />
        </module>
        <module name="ClassFanOutComplexity">
            <property name="max" value="20" />
        </module>
        <module name="CyclomaticComplexity">
            <property name="max" value="10" />
        </module>
        <module name="JavaNCSS">
            <property name="methodMaximum" value="50" />
            <property name="classMaximum" value="1500" />
            <property name="fileMaximum" value="2000" />
            <property name="recordMaximum" value="150" />
        </module>
        <module name="NPathComplexity">
            <property name="max" value="200" />
        </module>
        -->

        <!-- Miscellaneous -->

        <module name="ArrayTypeStyle" />
        <module name="AvoidEscapedUnicodeCharacters">
            <property name="allowEscapesForControlCharacters" value="true" />
        </module>
        <module name="CommentsIndentation" />
        <module name="FinalParameters" />
        <module name="OuterTypeFilename" />
        <module name="UncommentedMain">
            <property name="excludedClasses" value="\.Main$" />
        </module>
        <module name="UpperEll" />

        <!-- Modifiers -->

        <module name="ModifierOrder" />
        <module name="RedundantModifier" />

        <!-- Naming Conventions -->

        <module name="AbstractClassName" />
        <module name="ClassTypeParameterName" />
        <module name="ConstantName">
            <property name="applyToPublic" value="true" />
            <property name="applyToProtected" value="true" />
            <property name="applyToPackage" value="false" />
            <property name="applyToPrivate" value="false" />
        </module>
        <module name="IllegalIdentifierName" />
        <module name="InterfaceTypeParameterName" />
        <module name="LambdaParameterName" />
        <module name="LocalFinalVariableName" />
        <module name="LocalVariableName" />
        <module name="MemberName" />
        <module name="MethodName" />
        <module name="MethodTypeParameterName" />
        <module name="PackageName" />
        <module name="ParameterName" />
        <module name="PatternVariableName" />
        <module name="RecordComponentName" />
        <module name="RecordTypeParameterName" />
        <module name="StaticVariableName" />
        <module name="TypeName" />

        <!-- Regular Expressions -->

        <!-- <module name="Regexp">
            <property name="format" value="TODO\s+(?!MPX-\d+).*" />
            <property name="illegalPattern" value="true" />
            <property name="message" value="TODOs must have a linked JIRA issue: 'TODO MPX-123 text'" />
        </module> -->
        <module name="Regexp">
            <property name="format" value="LocalDate\.now()" />
            <property name="illegalPattern" value="true" />
        </module>
        <module name="Regexp">
            <property name="format" value="LocalDateTime\.now()" />
            <property name="illegalPattern" value="true" />
        </module>
        <module name="Regexp">
            <property name="format" value="new FileInputStream" />
            <property name="illegalPattern" value="true" />
        </module>
        <module name="Regexp">
            <property name="format" value="new FileOutputStream" />
            <property name="illegalPattern" value="true" />
        </module>

        <!-- Size Violations -->
        <!-- Currently we are violating some of these size violations... -->

        <!--
        <module name="AnonInnerLength">
            <property name="max" value="20" />
        </module>
        <module name="ExecutableStatementCount">
            <property name="max" value="30" />
        </module>
        <module name="LambdaBodyLength">
            <property name="max" value="10" />
        </module>
        <module name="MethodCount">
            <property name="maxTotal" value="100" />
        </module>
        <module name="MethodLength">
            <property name="max" value="150" />
        </module>
        <module name="OuterTypeNumber" />
        <module name="ParameterNumber">
            <property name="max" value="7" />
        </module>
        <module name="RecordComponentNumber">
            <property name="max" value="8" />
        </module>
        -->

    </module>

</module>